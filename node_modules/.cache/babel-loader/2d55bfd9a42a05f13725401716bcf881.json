{"ast":null,"code":"var _jsxFileName = \"/home/zia/work/zia/React/olx-backend/frontend/src/components/Add-products/products-detailed.js\",\n    _s = $RefreshSig$();\n\nimport \"./Add-products.scss\";\nimport image from \"../../assets/images/photo.png\";\nimport loader from \"../../assets/images/loader.webp\";\nimport imagemain from \"../../assets/images/for.jpg\";\nimport firebase from \"firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport back from \"../../assets/images/back.png\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { computeHeadingLevel } from \"@testing-library/dom\";\nimport axios from \"axios\";\nimport appsetting from \"../../appSetting/appsetting\"; // import { Spinner } from \"react-bootstrap\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nlet Productsdetailed = () => {\n  _s();\n\n  const history = useHistory();\n  let [category, setcategory] = useState(\"\");\n  let [condition, setcondition] = useState(\"\");\n  let [discription, setdiscription] = useState(\"\");\n  let [price, setprice] = useState(\"\");\n  let [photos, setphotos] = useState(\"\");\n  let [location, setlocation] = useState(\"\");\n  let [load, setload] = useState(false);\n  let user = useSelector(state => state.user);\n\n  let postAD = () => {\n    var productsdetailes = {\n      category,\n      condition,\n      discription,\n      price,\n      location,\n      userName: user === null || user === void 0 ? void 0 : user.userName,\n      userID: user === null || user === void 0 ? void 0 : user.uid\n    };\n    dispatch;\n\n    if (!user || photos.length !== 5) {\n      alert(\"at least 5 images\");\n    } else {\n      setload(true);\n      let temp = [];\n      Object.values(photos).map(items => {\n        let ID = Date.now();\n        let uploadimage = firebase.storage().ref().child(\"images/\" + ID);\n        return uploadimage.put(items).then(() => {\n          uploadimage.getDownloadURL().then(url => {\n            temp.push(url);\n\n            if (temp.length === photos.length) {\n              productsdetailes.photos = temp; // console.log(productsdetailes,\"hello bhai theak hai phar lena\")\n\n              console.log(productsdetailes.photos, \"photosurl\");\n              axios.post(`${appsetting.serverBaseUrl}/add/add-productdetailes`, productsdetailes).then(succes => {\n                alert(\"data is here\");\n                console.log(succes.data, \"product's data\");\n                history.push(\"/\");\n                setload(false);\n                dispatch({\n                  type: \"productsdetailed\",\n                  payload: succes.data.addDetailes\n                });\n              }).catch(err => {\n                alert(err);\n                console.log(err, \"errorsss!!!!\");\n              });\n            }\n          });\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"duck\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contents\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"mainimage\",\n        src: imagemain\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"POST YOUR AD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"category\",\n            children: [\"Choose a category *\", /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category\",\n              onChange: e => setcategory(e.target.value),\n              value: category,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cloths\",\n                children: \"cloths\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sports\",\n                children: \"sports\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"electronics\",\n                children: \"electronics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"condition\",\n            children: [\"Condition *\", /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"condition\",\n              onChange: e => setcondition(e.target.value),\n              value: condition,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"new\",\n                children: \"new \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"used\",\n                children: \"used\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Description *\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              cols: \"6\",\n              rows: \"6\",\n              className: \"padding\",\n              onChange: e => setdiscription(e.target.value),\n              value: discription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Price *\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Price of your product\",\n              className: \"padding\",\n              onChange: e => setprice(e.target.value),\n              value: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: [\"Upload product *\", /*#__PURE__*/_jsxDEV(\"label\", {\n            id: \"photo\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              className: \"images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              multiple: true,\n              className: \"hide\",\n              onChange: e => setphotos(e.target.files)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"* At least 5 photos*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Conform your location *\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              cols: \"4\",\n              rows: \"4\",\n              className: \"padding\",\n              onChange: e => setlocation(e.target.value),\n              value: location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              postAD();\n            },\n            children: [\"Post now\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"go-back\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: back\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \" Go to back \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Productsdetailed, \"h97efidOk684dacIs9xfc89/xao=\", false, function () {\n  return [useHistory, useSelector];\n});\n\n_c = Productsdetailed;\nexport default Productsdetailed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Productsdetailed\");","map":{"version":3,"sources":["/home/zia/work/zia/React/olx-backend/frontend/src/components/Add-products/products-detailed.js"],"names":["image","loader","imagemain","firebase","useSelector","useState","back","Link","useHistory","computeHeadingLevel","axios","appsetting","Productsdetailed","history","category","setcategory","condition","setcondition","discription","setdiscription","price","setprice","photos","setphotos","location","setlocation","load","setload","user","state","postAD","productsdetailes","userName","userID","uid","dispatch","length","alert","temp","Object","values","map","items","ID","Date","now","uploadimage","storage","ref","child","put","then","getDownloadURL","url","push","console","log","post","serverBaseUrl","succes","data","type","payload","addDetailes","catch","err","e","target","value","files"],"mappings":";;;AAAA,OAAO,qBAAP;AACA,OAAOA,KAAP,MAAkB,+BAAlB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,6BAAvB,C,CACA;;;;;AAEA,IAAIC,gBAAgB,GAAG,MAAM;AAAA;;AAC3B,QAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,MAAI,CAACM,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAtC;AACA,MAAI,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAI,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAI,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAhC;AACA,MAAI,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,EAAD,CAAlC;AACA,MAAI,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,EAAD,CAAtC;AACA,MAAI,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAAC,KAAD,CAA9B;AACA,MAAIuB,IAAI,GAAGxB,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAtB;;AACA,MAAIE,MAAM,GAAG,MAAM;AACjB,QAAIC,gBAAgB,GAAG;AACrBjB,MAAAA,QADqB;AAErBE,MAAAA,SAFqB;AAGrBE,MAAAA,WAHqB;AAIrBE,MAAAA,KAJqB;AAKrBI,MAAAA,QALqB;AAMrBQ,MAAAA,QAAQ,EAAEJ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,QANK;AAOrBC,MAAAA,MAAM,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEM;AAPO,KAAvB;AASAC,IAAAA,QAAQ;;AACR,QAAI,CAACP,IAAD,IAASN,MAAM,CAACc,MAAP,KAAkB,CAA/B,EAAkC;AAChCC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACD,KAFD,MAEO;AACLV,MAAAA,OAAO,CAAC,IAAD,CAAP;AACA,UAAIW,IAAI,GAAG,EAAX;AACAC,MAAAA,MAAM,CAACC,MAAP,CAAclB,MAAd,EAAsBmB,GAAtB,CAA2BC,KAAD,IAAW;AACnC,YAAIC,EAAE,GAAGC,IAAI,CAACC,GAAL,EAAT;AACA,YAAIC,WAAW,GAAG3C,QAAQ,CACvB4C,OADe,GAEfC,GAFe,GAGfC,KAHe,CAGT,YAAYN,EAHH,CAAlB;AAIA,eAAOG,WAAW,CAACI,GAAZ,CAAgBR,KAAhB,EAAuBS,IAAvB,CAA4B,MAAM;AACvCL,UAAAA,WAAW,CAACM,cAAZ,GAA6BD,IAA7B,CAAmCE,GAAD,IAAS;AACzCf,YAAAA,IAAI,CAACgB,IAAL,CAAUD,GAAV;;AACA,gBAAIf,IAAI,CAACF,MAAL,KAAgBd,MAAM,CAACc,MAA3B,EAAmC;AACjCL,cAAAA,gBAAgB,CAACT,MAAjB,GAA0BgB,IAA1B,CADiC,CAEjC;;AAGAiB,cAAAA,OAAO,CAACC,GAAR,CAAYzB,gBAAgB,CAACT,MAA7B,EAAoC,WAApC;AACAZ,cAAAA,KAAK,CACF+C,IADH,CAEK,GAAE9C,UAAU,CAAC+C,aAAc,0BAFhC,EAGI3B,gBAHJ,EAKGoB,IALH,CAKSQ,MAAD,IAAY;AAChBtB,gBAAAA,KAAK,CAAC,cAAD,CAAL;AACAkB,gBAAAA,OAAO,CAACC,GAAR,CAAYG,MAAM,CAACC,IAAnB,EAAyB,gBAAzB;AACA/C,gBAAAA,OAAO,CAACyC,IAAR,CAAa,GAAb;AACA3B,gBAAAA,OAAO,CAAC,KAAD,CAAP;AACAQ,gBAAAA,QAAQ,CAAC;AACP0B,kBAAAA,IAAI,EAAE,kBADC;AAEPC,kBAAAA,OAAO,EAAEH,MAAM,CAACC,IAAP,CAAYG;AAFd,iBAAD,CAAR;AAKD,eAfH,EAiBGC,KAjBH,CAiBUC,GAAD,IAAS;AACd5B,gBAAAA,KAAK,CAAC4B,GAAD,CAAL;AACAV,gBAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ,EAAiB,cAAjB;AACD,eApBH;AAqBD;AACF,WA9BD;AA+BD,SAhCM,CAAP;AAiCD,OAvCD;AAwCD;AACF,GAzDD;;AA2DA,sBACE;AAAA,cACGvC,IAAI,gBACH;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,6BAEE;AAAK,QAAA,GAAG,EAAEzB;AAAV;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YADG,gBAMH;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAEC;AAAhC;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EACwB,GADxB;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAME;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAO,YAAA,GAAG,EAAC,UAAX;AAAA,2DAEE;AACE,cAAA,EAAE,EAAC,UADL;AAEE,cAAA,QAAQ,EAAGgE,CAAD,IAAOnD,WAAW,CAACmD,CAAC,CAACC,MAAF,CAASC,KAAV,CAF9B;AAGE,cAAA,KAAK,EAAEtD,QAHT;AAAA,sCAKE;AAAQ,gBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAQ,gBAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE;AAAQ,gBAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAeE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAO,YAAA,GAAG,EAAC,WAAX;AAAA,mDAEE;AACE,cAAA,EAAE,EAAC,WADL;AAEE,cAAA,QAAQ,EAAGoD,CAAD,IAAOjD,YAAY,CAACiD,CAAC,CAACC,MAAF,CAASC,KAAV,CAF/B;AAGE,cAAA,KAAK,EAAEpD,SAHT;AAAA,sCAKE;AAAQ,gBAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAQ,gBAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAfF,eA4BE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAA,qDAEE;AACE,cAAA,IAAI,EAAC,GADP;AAEE,cAAA,IAAI,EAAC,GAFP;AAGE,cAAA,SAAS,EAAC,SAHZ;AAIE,cAAA,QAAQ,EAAGkD,CAAD,IAAO/C,cAAc,CAAC+C,CAAC,CAACC,MAAF,CAASC,KAAV,CAJjC;AAKE,cAAA,KAAK,EAAElD;AALT;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA5BF,eAwCE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAA,+CAEE;AACE,cAAA,IAAI,EAAC,MADP;AAEE,cAAA,WAAW,EAAC,uBAFd;AAGE,cAAA,SAAS,EAAC,SAHZ;AAIE,cAAA,QAAQ,EAAGgD,CAAD,IAAO7C,QAAQ,CAAC6C,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ3B;AAKE,cAAA,KAAK,EAAEhD;AALT;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAxCF,eAoDE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,sDAEE;AAAO,YAAA,EAAE,EAAC,OAAV;AAAA,oCACE;AAAK,cAAA,GAAG,EAAEpB,KAAV;AAAiB,cAAA,SAAS,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,cAAA,IAAI,EAAC,MADP;AAEE,cAAA,QAAQ,MAFV;AAGE,cAAA,SAAS,EAAC,MAHZ;AAIE,cAAA,QAAQ,EAAGkE,CAAD,IAAO3C,SAAS,CAAC2C,CAAC,CAACC,MAAF,CAASE,KAAV;AAJ5B;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBApDF,eAkEE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAA,+DAEE;AACE,cAAA,IAAI,EAAC,GADP;AAEE,cAAA,IAAI,EAAC,GAFP;AAGE,cAAA,SAAS,EAAC,SAHZ;AAIE,cAAA,QAAQ,EAAGH,CAAD,IAAOzC,WAAW,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ9B;AAKE,cAAA,KAAK,EAAE5C;AALT;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlEF,eA8EE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AACE,YAAA,OAAO,EAAE,MAAM;AACbM,cAAAA,MAAM;AACP,aAHH;AAAA,mCAKW,GALX;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBA9EF,eAuFE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAC,GAAT;AAAA,oCACE;AAAK,cAAA,GAAG,EAAExB;AAAV;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAvFF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ,mBADF;AAgHD,CArLD;;GAAIM,gB;UACcJ,U,EAQLJ,W;;;KATTQ,gB;AAuLJ,eAAeA,gBAAf","sourcesContent":["import \"./Add-products.scss\";\nimport image from \"../../assets/images/photo.png\";\nimport loader from \"../../assets/images/loader.webp\";\nimport imagemain from \"../../assets/images/for.jpg\";\nimport firebase from \"firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\n\nimport back from \"../../assets/images/back.png\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { computeHeadingLevel } from \"@testing-library/dom\";\nimport axios from \"axios\";\nimport appsetting from \"../../appSetting/appsetting\";\n// import { Spinner } from \"react-bootstrap\";\n\nlet Productsdetailed = () => {\n  const history = useHistory();\n  let [category, setcategory] = useState(\"\");\n  let [condition, setcondition] = useState(\"\");\n  let [discription, setdiscription] = useState(\"\");\n  let [price, setprice] = useState(\"\");\n  let [photos, setphotos] = useState(\"\");\n  let [location, setlocation] = useState(\"\");\n  let [load, setload] = useState(false);\n  let user = useSelector((state) => state.user);\n  let postAD = () => {\n    var productsdetailes = {\n      category,\n      condition,\n      discription,\n      price,\n      location,\n      userName: user?.userName,\n      userID: user?.uid,\n    };\n    dispatch\n    if (!user || photos.length !== 5) {\n      alert(\"at least 5 images\");\n    } else {\n      setload(true);\n      let temp = [];\n      Object.values(photos).map((items) => {\n        let ID = Date.now();\n        let uploadimage = firebase\n          .storage()\n          .ref()\n          .child(\"images/\" + ID);\n        return uploadimage.put(items).then(() => {\n          uploadimage.getDownloadURL().then((url) => {\n            temp.push(url);\n            if (temp.length === photos.length) {\n              productsdetailes.photos = temp;\n              // console.log(productsdetailes,\"hello bhai theak hai phar lena\")\n\n\n              console.log(productsdetailes.photos,\"photosurl\")\n              axios\n                .post(\n                  `${appsetting.serverBaseUrl}/add/add-productdetailes`,\n                  productsdetailes\n                )\n                .then((succes) => {\n                  alert(\"data is here\");\n                  console.log(succes.data, \"product's data\");\n                  history.push(\"/\");\n                  setload(false);\n                  dispatch({\n                    type: \"productsdetailed\",\n                    payload: succes.data.addDetailes,\n                  });\n                  \n                })\n\n                .catch((err) => {\n                  alert(err);\n                  console.log(err, \"errorsss!!!!\");\n                });\n            }\n          });\n        });\n      });\n    }\n  };\n\n  return (\n    <>\n      {load ? (\n        <div className=\"duck\">\n          {/* <Spinner animation=\"border\" role=\"status\" ></Spinner> */}\n          <img src={loader} />\n        </div>\n      ) : (\n        <div className=\"contents\">\n          <img className=\"mainimage\" src={imagemain} />\n\n          <div className=\"header\">\n            <h1>POST YOUR AD</h1>{\" \"}\n          </div>\n          <div className=\"wrapper\">\n            <div className=\"feilds\">\n              <label for=\"category\">\n                Choose a category *\n                <select\n                  id=\"category\"\n                  onChange={(e) => setcategory(e.target.value)}\n                  value={category}\n                >\n                  <option value=\"cloths\">cloths</option>\n                  <option value=\"sports\">sports</option>\n                  <option value=\"electronics\">electronics</option>\n                </select>\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label for=\"condition\">\n                Condition *\n                <select\n                  id=\"condition\"\n                  onChange={(e) => setcondition(e.target.value)}\n                  value={condition}\n                >\n                  <option value=\"new\">new </option>\n                  <option value=\"used\">used</option>\n                </select>\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label>\n                Description *\n                <textarea\n                  cols=\"6\"\n                  rows=\"6\"\n                  className=\"padding\"\n                  onChange={(e) => setdiscription(e.target.value)}\n                  value={discription}\n                />\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label>\n                Price *\n                <input\n                  type=\"text\"\n                  placeholder=\"Price of your product\"\n                  className=\"padding\"\n                  onChange={(e) => setprice(e.target.value)}\n                  value={price}\n                />\n              </label>\n            </div>\n            <div className=\"feilds\">\n              Upload product *\n              <label id=\"photo\">\n                <img src={image} className=\"images\" />\n                <input\n                  type=\"file\"\n                  multiple\n                  className=\"hide\"\n                  onChange={(e) => setphotos(e.target.files)}\n                />\n              </label>\n              <small>* At least 5 photos*</small>\n            </div>\n\n            <div className=\"feilds\">\n              <label>\n                Conform your location *\n                <textarea\n                  cols=\"4\"\n                  rows=\"4\"\n                  className=\"padding\"\n                  onChange={(e) => setlocation(e.target.value)}\n                  value={location}\n                />\n              </label>\n            </div>\n            <div className=\"button\">\n              <button\n                onClick={() => {\n                  postAD();\n                }}\n              >\n                Post now{\" \"}\n              </button>\n            </div>\n            <div className=\"go-back\">\n              <Link to=\"/\">\n                <img src={back}></img>\n                <b> Go to back </b>\n              </Link>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Productsdetailed;\n"]},"metadata":{},"sourceType":"module"}