{"ast":null,"code":"var _jsxFileName = \"/home/zia/work/zia/React/chat-app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Signin from './components/authentication/signin/signin';\nimport Signup from './components/authentication/signup/signup';\nimport Olx from \"./components/landing-page/olx\";\nimport Productsdetailed from \"./components/Add-products/products-detailed\";\nimport Main from \"./components/mainpage/mainpage\";\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport { firebaseConfig } from \"./firebase\";\nimport { Spinner } from 'react-bootstrap';\nimport firebase from \"firebase\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfirebase.initializeApp(firebaseConfig);\n\nlet App = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const userlength = useSelector(state => state.user);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        dispatch({\n          type: \"user\",\n          payload: user\n        });\n        firebase.database().ref('user/' + userlength.uid).on('value', snapshot => {\n          const data = snapshot.val() ? snapshot.val() : [];\n          dispatch({\n            type: \"username\",\n            payload: data === null || data === void 0 ? void 0 : data.username\n          });\n        });\n        firebase.database().ref(\"productsdetailed/\").on('value', snapshot => {\n          const data = snapshot.val() ? snapshot.val() : [];\n          dispatch({\n            type: \"productsdetailed\",\n            payload: data\n          });\n        });\n      } else {\n        dispatch({\n          type: \"user\",\n          payload: false\n        });\n      }\n    });\n  }, [userlength === null || userlength === void 0 ? void 0 : userlength.uid]);\n  if (userlength === \"loading\") return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"loader\",\n    children: /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\",\n      role: \"status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          render: () => (userlength === null || userlength === void 0 ? void 0 : userlength.uid) ? /*#__PURE__*/_jsxDEV(Olx, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 56\n          }, this) : /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 66\n          }, this),\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/signin\",\n          exact: true,\n          condition: !(userlength === null || userlength === void 0 ? void 0 : userlength.uid),\n          SuccessComp: Signin,\n          failPath: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/signup\",\n          exact: true,\n          condition: !(userlength === null || userlength === void 0 ? void 0 : userlength.uid),\n          SuccessComp: Signup,\n          failPath: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/products-detailed\",\n          condition: userlength === null || userlength === void 0 ? void 0 : userlength.uid,\n          SuccessComp: Productsdetailed,\n          failPath: \"/signin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(App, \"Gj+BxzPoz3jdPSmrOfDJ3SJ7dYY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = App;\n\nlet PrivateRoute = ({\n  condition,\n  SuccessComp,\n  failPath,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => condition ? /*#__PURE__*/_jsxDEV(SuccessComp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 53\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: failPath\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 71\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 10\n  }, this);\n};\n\n_c2 = PrivateRoute;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"PrivateRoute\");","map":{"version":3,"sources":["/home/zia/work/zia/React/chat-app/src/App.js"],"names":["Signin","Signup","Olx","Productsdetailed","Main","BrowserRouter","Redirect","Route","Switch","firebaseConfig","Spinner","firebase","useDispatch","useSelector","useEffect","initializeApp","App","dispatch","userlength","state","user","auth","onAuthStateChanged","type","payload","database","ref","uid","on","snapshot","data","val","username","PrivateRoute","condition","SuccessComp","failPath","rest"],"mappings":"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","sourcesContent":["import Signin from './components/authentication/signin/signin'\nimport Signup from './components/authentication/signup/signup'\nimport Olx from \"./components/landing-page/olx\"\nimport Productsdetailed from \"./components/Add-products/products-detailed\"\nimport Main from \"./components/mainpage/mainpage\"\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\nimport { firebaseConfig } from \"./firebase\";\nimport { Spinner } from 'react-bootstrap';\nimport firebase from \"firebase\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nfirebase.initializeApp(firebaseConfig);\n\nlet App = () => {\n\n  const dispatch = useDispatch()\n  const userlength = useSelector(state => state.user)\n\nuseEffect(()=>{\n  firebase.auth().onAuthStateChanged((user) => {\n    if (user) {\n      \n      dispatch(\n        {\n          type: \"user\",\n          payload: user\n        }\n        )\n        firebase.database().ref(  'user/'+ userlength.uid  ).on( 'value', (snapshot) => {\n          const data = snapshot.val() ? snapshot.val() : [];\n          dispatch({\n            type:\"username\",\n            payload:data?.username\n          })\n        })  \n        \n    \n    \n        firebase.database().ref(  \"productsdetailed/\"  ).on( 'value', (snapshot) => {\n          const data = snapshot.val() ? snapshot.val() : [];\n          dispatch({\n            type:\"productsdetailed\",\n            payload:data\n          })\n        })\n        \n        \n    }\n    else {\n      dispatch({\n        type: \"user\",\n        payload: false\n      })\n    }\n  })  \n\n},[userlength?.uid])\n\n\n\n\n\n\n\n\n  if (userlength === \"loading\")\n    return <div id=\"loader\"><Spinner animation=\"border\" role=\"status\">\n    </Spinner></div>\n\n\n  return <>\n\n\n\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" render={()=> userlength?.uid ? <Olx /> : <Main />} exact />\n        <PrivateRoute path={\"/signin\"} exact condition={!userlength?.uid} SuccessComp={Signin} failPath={\"/\"} />\n        <PrivateRoute path={\"/signup\"} exact condition={!userlength?.uid} SuccessComp={Signup} failPath={\"/\"} />\n        <PrivateRoute path={\"/products-detailed\"} condition={userlength?.uid} SuccessComp={Productsdetailed} failPath={\"/signin\"} />\n        \n      </Switch>\n\n    </BrowserRouter>\n\n\n  </>\n\n}\n\nlet PrivateRoute = ({ condition, SuccessComp, failPath, ...rest }) => {\n  return <Route {...rest} render={() => condition ? <SuccessComp /> : <Redirect to={failPath} />} />\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}