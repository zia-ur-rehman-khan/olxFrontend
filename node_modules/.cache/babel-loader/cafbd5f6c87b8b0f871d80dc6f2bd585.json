{"ast":null,"code":"var _jsxFileName = \"/home/zia/work/zia/React/olx-backend/frontend/src/components/Add-products/products-detailed.js\",\n    _s = $RefreshSig$();\n\nimport \"./Add-products.scss\";\nimport image from \"../../assets/images/photo.png\";\nimport loader from \"../../assets/images/loader.webp\";\nimport imagemain from \"../../assets/images/for.jpg\";\nimport firebase from \"firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport back from \"../../assets/images/back.png\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { computeHeadingLevel } from \"@testing-library/dom\";\nimport axios from \"axios\";\nimport appsetting from \"../../appSetting/appsetting\"; // import { Spinner } from \"react-bootstrap\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nlet Productsdetailed = () => {\n  _s();\n\n  const history = useHistory();\n  let [category, setcategory] = useState(\"\");\n  let [condition, setcondition] = useState(\"\");\n  let [discription, setdiscription] = useState(\"\");\n  let [price, setprice] = useState(\"\");\n  let [photos, setphotos] = useState(\"\");\n  let [location, setlocation] = useState(\"\");\n  let [load, setload] = useState(false);\n  let user = useSelector(state => state.user);\n\n  let postAD = () => {\n    var productsdetailes = {\n      category,\n      condition,\n      discription,\n      price,\n      location,\n      userName: user === null || user === void 0 ? void 0 : user.userName,\n      userID: user === null || user === void 0 ? void 0 : user.uid\n    };\n    let formData = new FormData(); // console.log(user, \"useruseruseer\");\n\n    if (!user || photos.length !== 5) {\n      alert(\"at least 5 images\");\n    } else {\n      formData.append(\"productsdetailes\", JSON.stringify(productsdetailes)); // console.log(photos,\"images of olx\")\n\n      Array.isArray(photos) && (photos === null || photos === void 0 ? void 0 : photos.forEach(image => {\n        formData.append(\"image[]\", image);\n      }));\n      axios({\n        method: \"post\",\n        url: `${appsetting.serverBaseUrl}/add/add-productdetailes`,\n        data: formData,\n        headers: {\n          \"content-type\": \"multipart/form-data\"\n        }\n      }).then(succes => {\n        alert(\"data is here\");\n        console.log(succes.data, \"product's data\");\n      }).catch(err => {\n        alert(err);\n        console.log(err, \"errorsss!!!!\");\n      });\n      setload(true);\n      let temp = [];\n      Object.values(photos).map(items => {\n        let ID = Date.now();\n        let uploadimage = firebase.storage().ref().child(\"images/\" + ID);\n        return uploadimage.put(items).then(() => {\n          uploadimage.getDownloadURL().then(url => {\n            temp.push(url);\n\n            if (temp.length === photos.length) {\n              productsdetailes.productImage = temp; // console.log(productsdetailes,\"hello bhai theak hai phar lena\")\n\n              firebase.database().ref(\"productsdetailed/\" + Date.now()).set(productsdetailes).then(() => {\n                history.push(\"/\");\n                setload(false);\n              });\n            }\n          });\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"duck\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: loader\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contents\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"mainimage\",\n        src: imagemain\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"POST YOUR AD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"category\",\n            children: [\"Choose a category *\", /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category\",\n              onChange: e => setcategory(e.target.value),\n              value: category,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cloths\",\n                children: \"cloths\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sports\",\n                children: \"sports\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"electronics\",\n                children: \"electronics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"condition\",\n            children: [\"Condition *\", /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"condition\",\n              onChange: e => setcondition(e.target.value),\n              value: condition,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"new\",\n                children: \"new \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"used\",\n                children: \"used\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Description *\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              cols: \"6\",\n              rows: \"6\",\n              className: \"padding\",\n              onChange: e => setdiscription(e.target.value),\n              value: discription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Price *\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Price of your product\",\n              className: \"padding\",\n              onChange: e => setprice(e.target.value),\n              value: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: [\"Upload product *\", /*#__PURE__*/_jsxDEV(\"label\", {\n            id: \"photo\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              className: \"images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              multiple: true,\n              className: \"hide\",\n              onChange: e => setphotos(e.target.files)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"* At least 5 photos*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feilds\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Conform your location *\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              cols: \"4\",\n              rows: \"4\",\n              className: \"padding\",\n              onChange: e => setlocation(e.target.value),\n              value: location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              postAD();\n            },\n            children: [\"Post now\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"go-back\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: back\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \" Go to back \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Productsdetailed, \"h97efidOk684dacIs9xfc89/xao=\", false, function () {\n  return [useHistory, useSelector];\n});\n\n_c = Productsdetailed;\nexport default Productsdetailed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Productsdetailed\");","map":{"version":3,"sources":["/home/zia/work/zia/React/olx-backend/frontend/src/components/Add-products/products-detailed.js"],"names":["image","loader","imagemain","firebase","useSelector","useState","back","Link","useHistory","computeHeadingLevel","axios","appsetting","Productsdetailed","history","category","setcategory","condition","setcondition","discription","setdiscription","price","setprice","photos","setphotos","location","setlocation","load","setload","user","state","postAD","productsdetailes","userName","userID","uid","formData","FormData","length","alert","append","JSON","stringify","Array","isArray","forEach","method","url","serverBaseUrl","data","headers","then","succes","console","log","catch","err","temp","Object","values","map","items","ID","Date","now","uploadimage","storage","ref","child","put","getDownloadURL","push","productImage","database","set","e","target","value","files"],"mappings":"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","sourcesContent":["import \"./Add-products.scss\";\nimport image from \"../../assets/images/photo.png\";\nimport loader from \"../../assets/images/loader.webp\";\nimport imagemain from \"../../assets/images/for.jpg\";\nimport firebase from \"firebase\";\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\n\nimport back from \"../../assets/images/back.png\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { computeHeadingLevel } from \"@testing-library/dom\";\nimport axios from \"axios\";\nimport appsetting from \"../../appSetting/appsetting\";\n// import { Spinner } from \"react-bootstrap\";\n\nlet Productsdetailed = () => {\n  const history = useHistory();\n  let [category, setcategory] = useState(\"\");\n  let [condition, setcondition] = useState(\"\");\n  let [discription, setdiscription] = useState(\"\");\n  let [price, setprice] = useState(\"\");\n  let [photos, setphotos] = useState(\"\");\n  let [location, setlocation] = useState(\"\");\n  let [load, setload] = useState(false);\n  let user = useSelector((state) => state.user);\n  let postAD = () => {\n    var productsdetailes = {\n      category,\n      condition,\n      discription,\n      price,\n      location,\n      userName: user?.userName,\n      userID: user?.uid,\n    };\n    let formData = new FormData();\n\n    // console.log(user, \"useruseruseer\");\n    if (!user || photos.length !== 5) {\n      alert(\"at least 5 images\");\n    } else {\n      formData.append(\"productsdetailes\", JSON.stringify(productsdetailes));\n      // console.log(photos,\"images of olx\")\n      Array.isArray(photos) && photos?.forEach((image) => {\n        formData.append(\"image[]\", image);\n      });\n\n      axios({\n        method: \"post\",\n        url: `${appsetting.serverBaseUrl}/add/add-productdetailes`,\n        data: formData,\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      })\n        .then((succes) => {\n          alert(\"data is here\");\n          console.log(succes.data, \"product's data\");\n        })\n\n        .catch((err) => {\n          alert(err);\n          console.log(err, \"errorsss!!!!\");\n        });\n\n      setload(true);\n      let temp = [];\n      Object.values(photos).map((items) => {\n        let ID = Date.now();\n        let uploadimage = firebase\n          .storage()\n          .ref()\n          .child(\"images/\" + ID);\n        return uploadimage.put(items).then(() => {\n          uploadimage.getDownloadURL().then((url) => {\n            temp.push(url);\n            if (temp.length === photos.length) {\n              productsdetailes.productImage = temp;\n              // console.log(productsdetailes,\"hello bhai theak hai phar lena\")\n              firebase\n                .database()\n                .ref(\"productsdetailed/\" + Date.now())\n                .set(productsdetailes)\n                .then(() => {\n                  history.push(\"/\");\n                  setload(false);\n                });\n            }\n          });\n        });\n      });\n    }\n  };\n  return (\n    <>\n      {load ? (\n        <div className=\"duck\">\n          {/* <Spinner animation=\"border\" role=\"status\" ></Spinner> */}\n          <img src={loader} />\n        </div>\n      ) : (\n        <div className=\"contents\">\n          <img className=\"mainimage\" src={imagemain} />\n\n          <div className=\"header\">\n            <h1>POST YOUR AD</h1>{\" \"}\n          </div>\n          <div className=\"wrapper\">\n            <div className=\"feilds\">\n              <label for=\"category\">\n                Choose a category *\n                <select\n                  id=\"category\"\n                  onChange={(e) => setcategory(e.target.value)}\n                  value={category}\n                >\n                  <option value=\"cloths\">cloths</option>\n                  <option value=\"sports\">sports</option>\n                  <option value=\"electronics\">electronics</option>\n                </select>\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label for=\"condition\">\n                Condition *\n                <select\n                  id=\"condition\"\n                  onChange={(e) => setcondition(e.target.value)}\n                  value={condition}\n                >\n                  <option value=\"new\">new </option>\n                  <option value=\"used\">used</option>\n                </select>\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label>\n                Description *\n                <textarea\n                  cols=\"6\"\n                  rows=\"6\"\n                  className=\"padding\"\n                  onChange={(e) => setdiscription(e.target.value)}\n                  value={discription}\n                />\n              </label>\n            </div>\n            <div className=\"feilds\">\n              <label>\n                Price *\n                <input\n                  type=\"text\"\n                  placeholder=\"Price of your product\"\n                  className=\"padding\"\n                  onChange={(e) => setprice(e.target.value)}\n                  value={price}\n                />\n              </label>\n            </div>\n            <div className=\"feilds\">\n              Upload product *\n              <label id=\"photo\">\n                <img src={image} className=\"images\" />\n                <input\n                  type=\"file\"\n                  multiple\n                  className=\"hide\"\n                  onChange={(e) => setphotos(e.target.files)}\n                />\n              </label>\n              <small>* At least 5 photos*</small>\n            </div>\n\n            <div className=\"feilds\">\n              <label>\n                Conform your location *\n                <textarea\n                  cols=\"4\"\n                  rows=\"4\"\n                  className=\"padding\"\n                  onChange={(e) => setlocation(e.target.value)}\n                  value={location}\n                />\n              </label>\n            </div>\n            <div className=\"button\">\n              <button\n                onClick={() => {\n                  postAD();\n                }}\n              >\n                Post now{\" \"}\n              </button>\n            </div>\n            <div className=\"go-back\">\n              <Link to=\"/\">\n                <img src={back}></img>\n                <b> Go to back </b>\n              </Link>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Productsdetailed;\n"]},"metadata":{},"sourceType":"module"}